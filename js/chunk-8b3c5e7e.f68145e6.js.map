{"version":3,"sources":["webpack:///./src/views/mv/Index.vue?bf3a","webpack:///src/views/mv/Index.vue","webpack:///./src/views/mv/Index.vue?3dfc","webpack:///./src/views/mv/Index.vue","webpack:///./src/components/common/loadMore/Index.vue?5c5b","webpack:///src/components/common/loadMore/Index.vue","webpack:///./src/components/common/loadMore/Index.vue?58e1","webpack:///./src/components/common/loadMore/Index.vue","webpack:///./src/components/common/mvList/Index.vue?79bf","webpack:///src/components/common/mvList/Index.vue","webpack:///./src/components/common/mvList/Index.vue?4ef6","webpack:///./src/components/common/mvList/Index.vue","webpack:///./src/views/mv/Index.vue?a6aa","webpack:///./src/components/common/mvList/Index.vue?b01c","webpack:///./src/model/video.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","key","value","class","area","on","$event","chooseType","_v","_s","label","classify","sort","load","attrs","mvs","_e","staticRenderFns","data","areaList","classifys","sortList","params","limit","offset","type","order","loading","loadStatus","components","MvList","loadMore","watch","methods","val","en","getMvAll","_normalizeVideos","list","map","id","ret","push","setTimeout","created","mounted","component","_t","getScrollTop","scrollTop","document","documentElement","body","getClientHeight","clientHeight","Math","min","max","getScrollHeight","self","window","onscroll","$emit","destroyed","length","isLive","image","slot","utils","tranNumber","playCount","toLive","toDetail","nickName","duration","name","props","Array","Boolean","String","computed","noMore","disabled","open","url","stopPlay","$router","query","Video","createVideo","videoData","formatTime","_classCallCheck","instance","Constructor","TypeError","module","exports"],"mappings":"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","file":"js/chunk-8b3c5e7e.f68145e6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mv-wrap container\"},[_c('div',{staticClass:\"filter\"},[_c('ul',{staticClass:\"tag-lang\"},_vm._l((_vm.areaList),function(item){return _c('li',{key:item.value,class:_vm.area == item.value ? 'active' : '',on:{\"click\":function($event){return _vm.chooseType('area', item.value)}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),0),_c('ul',{staticClass:\"tag-lang tag-type\"},_vm._l((_vm.classifys),function(item){return _c('li',{key:item.value,class:_vm.classify == item.value ? 'active' : '',on:{\"click\":function($event){return _vm.chooseType('classify', item.value)}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),0),_c('ul',{staticClass:\"tag-lang\"},_vm._l((_vm.sortList),function(item){return _c('li',{key:item.value,class:_vm.sort == item.value ? 'active' : '',on:{\"click\":function($event){return _vm.chooseType('sort', item.value)}}},[_vm._v(\" \"+_vm._s(item.label)+\" \")])}),0)]),_c('load-more',{on:{\"scroll-state\":_vm.load}},[_c('mv-list',{attrs:{\"mvs\":_vm.mvs,\"type\":\"mv\"}})],1),(_vm.loading)?_c('div',{staticClass:\"load-bottom\"},[_c('nice-loading')],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mv-wrap container\">\n    <div class=\"filter\">\n      <ul class=\"tag-lang\">\n        <li\n          v-for=\"item of areaList\"\n          :key=\"item.value\"\n          :class=\"area == item.value ? 'active' : ''\"\n          @click=\"chooseType('area', item.value)\"\n        >\n          {{ item.label }}\n        </li>\n      </ul>\n      <ul class=\"tag-lang tag-type\">\n        <li\n          v-for=\"item of classifys\"\n          :key=\"item.value\"\n          :class=\"classify == item.value ? 'active' : ''\"\n          @click=\"chooseType('classify', item.value)\"\n        >\n          {{ item.label }}\n        </li>\n      </ul>\n      <ul class=\"tag-lang\">\n        <li\n          v-for=\"item of sortList\"\n          :key=\"item.value\"\n          :class=\"sort == item.value ? 'active' : ''\"\n          @click=\"chooseType('sort', item.value)\"\n        >\n          {{ item.label }}\n        </li>\n      </ul>\n    </div>\n    <load-more @scroll-state=\"load\">\n      <mv-list :mvs=\"mvs\" type=\"mv\"></mv-list>\n    </load-more>\n    <div v-if=\"loading\" class=\"load-bottom\">\n      <nice-loading />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { createVideo } from '@/model/video'\nimport MvList from 'components/common/mvList/Index'\nimport loadMore from 'components/common/loadMore/Index'\nexport default {\n  data() {\n    return {\n      // 语种\n      area: '全部',\n      areaList: [\n        {\n          value: '全部',\n          label: '全部'\n        },\n        {\n          value: '内地',\n          label: '内地'\n        },\n        {\n          value: '港台',\n          label: '港台'\n        },\n        {\n          value: '欧美',\n          label: '欧美'\n        },\n        {\n          value: '日本',\n          label: '日本'\n        },\n        {\n          value: '韩国',\n          label: '韩国'\n        }\n      ],\n      // 分类\n      classify: '全部',\n      classifys: [\n        {\n          value: '全部',\n          label: '全部'\n        },\n        {\n          value: '官方版',\n          label: '官方版'\n        },\n        {\n          value: '原生',\n          label: '原生'\n        },\n        {\n          value: '现场版',\n          label: '现场版'\n        },\n        {\n          value: '网易出品',\n          label: '网易出品'\n        }\n      ],\n      // 排序\n      sort: '上升最快',\n      sortList: [\n        {\n          value: '上升最快',\n          label: '上升'\n        },\n        {\n          value: '最热',\n          label: '最热'\n        },\n        {\n          value: '最新',\n          label: '最新'\n        }\n      ],\n      // 请求参数\n      params: {\n        // 返回数量\n        limit: 12,\n        // 偏移数量\n        offset: 0,\n        // 分类\n        type: '全部',\n        // 语种\n        area: '全部',\n        order: '上升最快'\n      },\n      mvs: [],\n      // 是否显示加载动画\n      loading: false,\n      // 是否还有数据\n      loadStatus: true\n    }\n  },\n  components: {\n    MvList,\n    loadMore\n  },\n  watch: {},\n  methods: {\n    // 选择歌手分类\n    chooseType(type, val) {\n      if (type == 'area') {\n        this.area = val\n        this.params.area = val\n      } else if (type == 'classify') {\n        this.classify = val\n        this.params.type = val\n      } else if (type == 'sort') {\n        this.en = val\n        this.params.order = val\n      }\n      this.params.offset = 0\n      this.loadStatus = true\n      this.mvs = []\n      this.getMvAll()\n    },\n    // 获取mv列表\n    async getMvAll() {\n      this.fullscreenLoading = true\n      try {\n        this.loadStatus = false\n        let res = await this.$api.getMvAll(this.params)\n        if (res.code === 200) {\n          console.log(res)\n          this.mvs = this.mvs.concat(this._normalizeVideos(res.data))\n          if (res.hasMore) {\n            this.loading = true\n            this.loadStatus = true\n            this.params.offset += 12\n          } else {\n            this.loading = false\n          }\n        }\n      } catch (error) {\n        this.$message.error(error)\n      }\n    },\n    // 处理视频\n    _normalizeVideos(list) {\n      let ret = []\n      list.map(item => {\n        if (item.id) {\n          ret.push(\n            createVideo({\n              id: item.id,\n              nickName: item.artistName,\n              name: item.name,\n              playCount: item.playCount,\n              duration: item.duration,\n              image: item.cover\n            })\n          )\n        }\n      })\n      return ret\n    },\n    // 加载更多\n    load() {\n      if (this.loadStatus) {\n        setTimeout(() => {\n          this.getMvAll()\n        }, 1000)\n      }\n    }\n  },\n  created() {},\n  mounted() {\n    this.getMvAll()\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n.mv-wrap {\n  // height: 100vh;\n  margin-top: -20px;\n  li {\n    &:hover {\n      color: $color-theme;\n      transition: all 0.4s;\n    }\n  }\n  .tag-en {\n    display: flex;\n    flex-wrap: wrap;\n    margin-top: 10px;\n    li {\n      width: 56px;\n      height: 28px;\n      margin-right: 14px;\n      text-align: center;\n      line-height: 29px;\n      border-radius: 50%;\n      font-size: 13px;\n      color: #333333;\n      cursor: pointer;\n      &:first-child,\n      &.last-child {\n        width: 56px;\n        border-radius: 14px;\n      }\n      &.active {\n        background: $color-theme;\n        font-weight: 700;\n        color: #ffffff;\n      }\n      &:hover {\n        color: $color-theme;\n        transition: all 0.4s;\n      }\n    }\n  }\n  .tag-lang {\n    display: flex;\n    margin-top: 20px;\n    margin-bottom: 20px;\n    li {\n      width: 56px;\n      height: 28px;\n      line-height: 29px;\n      font-size: 13px;\n      text-align: center;\n      border-radius: 14px;\n      cursor: pointer;\n      margin-right: 6px;\n      &.active {\n        background: $color-theme;\n        font-weight: 700;\n        color: #ffffff;\n      }\n    }\n  }\n  .tag-type {\n    li {\n      width: auto;\n      padding: 0 15px;\n    }\n  }\n  .singer-list {\n    display: flex;\n    flex-wrap: wrap;\n    margin-top: 30px;\n    margin: 30px -15px 0;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=00f74ba3&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=00f74ba3&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00f74ba3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"load-more\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"load-more\">\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {}\n  },\n  methods: {\n    //获取滚动条当前的位置\n    getScrollTop() {\n      var scrollTop = 0\n      if (document.documentElement && document.documentElement.scrollTop) {\n        scrollTop = document.documentElement.scrollTop\n      } else if (document.body) {\n        scrollTop = document.body.scrollTop\n      }\n      return scrollTop\n    },\n    //获取当前可视范围的高度\n    getClientHeight() {\n      var clientHeight = 0\n      if (document.body.clientHeight && document.documentElement.clientHeight) {\n        clientHeight = Math.min(\n          document.body.clientHeight,\n          document.documentElement.clientHeight\n        )\n      } else {\n        clientHeight = Math.max(\n          document.body.clientHeight,\n          document.documentElement.clientHeight\n        )\n      }\n      return clientHeight\n    },\n\n    //获取文档完整的高度\n    getScrollHeight() {\n      return Math.max(\n        document.body.scrollHeight,\n        document.documentElement.scrollHeight\n      )\n    }\n  },\n  created() {},\n  mounted() {\n    //滚动事件触发\n    var self = this\n    window.onscroll = function() {\n      if (\n        self.getScrollTop() + self.getClientHeight() >=\n        self.getScrollHeight()\n      ) {\n        self.$emit('scroll-state', true)\n      }\n    }\n  },\n  destroyed() {\n    // window.onscroll = null;\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=3aa0f8a3&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3aa0f8a3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mv-box\"},[(_vm.mvs.length > 0)?_c('ul',{staticClass:\"mv-list\"},_vm._l((_vm.mvs),function(item){return _c('li',{key:item.id,class:item.isLive ? 'live' : ''},[_c('div',{staticClass:\"cover\"},[_c('div',{staticClass:\"image\"},[_c('el-image',{key:item.image + '?param=352y197',attrs:{\"src\":item.image + '?param=325y197',\"lazy\":\"\"}},[_c('div',{staticClass:\"image-slot flex-center flex-column\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"iconfont niceicon-3\"})]),_c('div',{staticClass:\"image-slot flex-center\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])])],1),_c('div',{staticClass:\"count\"},[_c('i',{staticClass:\"arrow\"}),_c('span',[_vm._v(_vm._s(_vm.utils.tranNumber(item.playCount, 0)))])]),_c('div',{staticClass:\"action\"},[(!item.isLive)?_c('button',{staticClass:\"play flex-center\",attrs:{\"title\":\"播放\"},on:{\"click\":function($event){return _vm.toDetail(item.id, item.type)}}},[_c('i',{staticClass:\"iconfont nicebofang1\"})]):_c('button',{staticClass:\"play flex-center\",attrs:{\"title\":\"播放\"},on:{\"click\":function($event){return _vm.toLive(item.id)}}},[_c('i',{staticClass:\"iconfont nicebofang1\"})])]),_c('div',{staticClass:\"foot\"},[_c('p',[_vm._v(_vm._s(item.nickName))]),_c('p',[_vm._v(_vm._s(item.duration))])])]),_c('div',{staticClass:\"info\"},[_c('h2',{staticClass:\"title ellipsis\"},[_vm._v(_vm._s(item.name))])])])}),0):_c('nice-empty'),(_vm.loadStatus)?_c('div',{staticClass:\"load-bottom\"},[_c('nice-loading')],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mv-box\">\n    <ul class=\"mv-list\" v-if=\"mvs.length > 0\">\n      <li v-for=\"item of mvs\" :key=\"item.id\" :class=\"item.isLive ? 'live' : ''\">\n        <div class=\"cover\">\n          <div class=\"image\">\n            <el-image\n              :key=\"item.image + '?param=352y197'\"\n              :src=\"item.image + '?param=325y197'\"\n              lazy\n            >\n              <div\n                slot=\"placeholder\"\n                class=\"image-slot flex-center flex-column\"\n              >\n                <i class=\"iconfont niceicon-3\"></i>\n              </div>\n              <div slot=\"error\" class=\"image-slot flex-center\">\n                <i class=\"el-icon-picture-outline\"></i>\n              </div>\n            </el-image>\n          </div>\n          <div class=\"count\">\n            <i class=\"arrow\"></i>\n            <span>{{ utils.tranNumber(item.playCount, 0) }}</span>\n          </div>\n          <div class=\"action\">\n            <button\n              class=\"play flex-center\"\n              title=\"播放\"\n              v-if=\"!item.isLive\"\n              @click=\"toDetail(item.id, item.type)\"\n            >\n              <i class=\"iconfont nicebofang1\"></i>\n            </button>\n            <button\n              class=\"play flex-center\"\n              title=\"播放\"\n              v-else\n              @click=\"toLive(item.id)\"\n            >\n              <i class=\"iconfont nicebofang1\"></i>\n            </button>\n          </div>\n          <div class=\"foot\">\n            <p>{{ item.nickName }}</p>\n            <p>{{ item.duration }}</p>\n          </div>\n        </div>\n        <div class=\"info\">\n          <h2 class=\"title ellipsis\">{{ item.name }}</h2>\n        </div>\n      </li>\n    </ul>\n    <nice-empty v-else></nice-empty>\n    <div v-if=\"loadStatus\" class=\"load-bottom\">\n      <nice-loading />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\nexport default {\n  data() {\n    return {}\n  },\n  props: {\n    mvs: {\n      type: Array\n    },\n    loadStatus: {\n      type: Boolean\n    },\n    loading: {\n      type: Boolean\n    },\n    type: {\n      type: String\n    }\n  },\n  components: {},\n  computed: {\n    noMore() {\n      return !this.loading\n    },\n    disabled() {\n      return this.loading || this.noMore\n    }\n  },\n  watch: {},\n  methods: {\n    // 直播跳转\n    toLive(id) {\n      let url = `https://iplay.163.com/live?id=${id}`\n      window.open(url, '_blank')\n    },\n    // 视频详情\n    toDetail(id) {\n      this.stopPlay()\n      if (typeof id == 'number' || id.length < 10) {\n        this.$router.push({\n          name: 'mvDetail',\n          query: {\n            id\n          }\n        })\n      } else {\n        this.$router.push({\n          name: 'videoDetail',\n          query: {\n            id\n          }\n        })\n      }\n    },\n    ...mapActions([\n      // 播放视频移除播放\n      'stopPlay'\n    ])\n  },\n  created() {},\n  mounted() {}\n}\n</script>\n<style lang=\"stylus\" scoped>\n.mv-box {\n  padding: 15px 0;\n  .mv-list {\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    margin: 0 -15px;\n    li {\n      padding: 0 15px 30px;\n      flex: 0 0 25%;\n      max-width: 25%;\n      .cover {\n        position: relative;\n        z-index: 2;\n        padding-top: 56%;\n        border-radius: 2px;\n        background-color: #000;\n        .image {\n          position: absolute;\n          top: 0;\n          left: 0;\n          overflow: hidden;\n          width: 100%;\n          height: 100%;\n          border-radius: 2px;\n        }\n        .count {\n          position: absolute;\n          right: 16px;\n          top: 1px;\n          height: 24px;\n          padding-left: 9px;\n          background: url(https://img.alicdn.com/tfs/TB1xEGRub9YBuNjy0FgXXcxcXXa-268-48.png) no-repeat 0;\n          background-size: cover;\n          color: #fff;\n          font-size: 12px;\n          font-weight: 700;\n          line-height: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          .arrow {\n            display: block;\n            width: 0;\n            height: 0;\n            border-style: solid;\n            border-width: 4px 0 4px 6px;\n            border-color: transparent transparent transparent #ffffff;\n            margin-right: 5px;\n          }\n          &:after {\n            content: '';\n            position: absolute;\n            right: -14px;\n            top: 0;\n            width: 14px;\n            height: 24px;\n            background: url(https://img.alicdn.com/tfs/TB1xEGRub9YBuNjy0FgXXcxcXXa-268-48.png) no-repeat 100%;\n            background-size: cover;\n          }\n        }\n        .action {\n          display: none;\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          -webkit-transform: translate(-50%, -50%);\n          -ms-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n          .play {\n            width: 32px;\n            height: 32px;\n            padding: 0;\n            border: none;\n            border-radius: 50%;\n            color: #fff;\n            cursor: pointer;\n            background-color: $color-theme;\n            i {\n              font-size: 12px;\n            }\n          }\n        }\n        .foot {\n          width: 100%;\n          height: 35px;\n          background: rgba(0,0,0, 0.6);\n          position: absolute;\n          left: 0;\n          bottom: 0;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 0 10px;\n          p {\n            color: #ffffff;\n          }\n        }\n        &:hover {\n          .action {\n            display: flex;\n          }\n        }\n      }\n      .info {\n        margin-top: 15px;\n        .title {\n          font-size: 14px;\n          font-weight: 500;\n          display: block;\n          line-height: 1.3;\n        }\n        .author {\n          margin-top: 5px;\n          font-size: 12px;\n          color: #999;\n        }\n      }\n      &.live {\n        .cover {\n          .foot {\n            background: rgba(250, 40, 0, 0.75);\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=6dd7d9ce&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=6dd7d9ce&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dd7d9ce\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=00f74ba3&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=00f74ba3&lang=stylus&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=6dd7d9ce&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=6dd7d9ce&lang=stylus&scoped=true&\"","/** 视频处理方法 */\n\nimport utils from '../utils/utils'\n\nexport default class Video {\n  constructor({ id, nickName, name, playCount, duration, image, isLive }) {\n    ;(this.id = id),\n      (this.nickName = nickName),\n      (this.name = name),\n      (this.playCount = playCount),\n      (this.duration = duration),\n      (this.image = image),\n      (this.isLive = isLive)\n  }\n}\n\nexport function createVideo(videoData) {\n  if (videoData.duration > 0) {\n    videoData.duration = utils.formatTime(videoData.duration)\n  }\n  return new Video({\n    id: videoData.id,\n    nickName: videoData.nickName,\n    name: videoData.name,\n    playCount: videoData.playCount,\n    duration: videoData.duration,\n    image: videoData.image,\n    isLive: videoData.isLive\n  })\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;"],"sourceRoot":""}