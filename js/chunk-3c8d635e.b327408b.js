(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c8d635e"],{4987:function(t,e,i){},5310:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"singer-detail"},[i("div",{staticClass:"singer-info"},[i("div",{staticClass:"top"},[i("div",{staticClass:"top-mask"},[i("div",{staticClass:"singer-box flex-column flex-center"},[i("div",{staticClass:"avatar transition"},[i("img",{attrs:{src:t.detail.img1v1Url+"?param=200y200"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.level,expression:"level"}],staticClass:"level flex-center transition"},[i("i",{staticClass:"iconfont icon-level",class:t.level})])]),i("p",{staticClass:"nickname"},[t._v(" "+t._s(t.detail.name)+" "),i("i",{staticClass:"iconfont",class:t.gender})]),t._m(0),i("div",{staticClass:"desc ellipsis-two",domProps:{innerHTML:t._s(t.detail.briefDesc)}}),i("ul",{staticClass:"info flex-center"},[i("li",[i("p",{staticClass:"num"},[t._v(t._s(t.detail.musicSize))]),i("p",{staticClass:"text"},[t._v("单曲数")])]),i("li",[i("p",{staticClass:"num"},[t._v(t._s(t.detail.albumSize))]),i("p",{staticClass:"text"},[t._v("专辑数")])]),i("li",[i("p",{staticClass:"num"},[t._v(t._s(t.detail.mvSize))]),i("p",{staticClass:"text"},[t._v("MV数")])]),i("li",{directives:[{name:"show",rawName:"v-show",value:t.detail.followeds,expression:"detail.followeds"}]},[i("p",{staticClass:"num"},[t._v(t._s(t.detail.followeds))]),i("p",{staticClass:"text"},[t._v("粉丝")])])])])]),i("div",{staticClass:"bottom-trangle"})]),i("div",{staticClass:"bottom container"},[i("ul",{staticClass:"nav flex-center"},t._l(t.navList,(function(e){return i("li",{key:e.id,class:t.active==e.id?"active":"",on:{click:function(i){return t.tabItem(e.id)}}},[t._v(" "+t._s(e.name)+" ")])})),0),i("div",{staticClass:"content"},[1==t.active?i("artist-list",{attrs:{songs:t.songs,isPerson:t.isPerson}}):t._e(),2==t.active?i("album-list",{attrs:{albums:t.albums}}):t._e(),3==t.active?i("mv-list",{attrs:{mvs:t.mvs,type:"mv"}}):t._e(),4==t.active?i("div",{staticClass:"info-box"},[i("h2",{staticClass:"title"},[t._v(t._s(t.detail.name)+"简介")]),i("div",{staticClass:"profile",domProps:{innerHTML:t._s(t.singerDesc.briefDesc)}}),i("div",{staticClass:"introduction"},t._l(t.singerDesc.introduction,(function(e){return i("div",{key:e.ti,staticClass:"item"},[i("h3",{staticClass:"sub-title"},[t._v(t._s(e.ti))]),i("p",{domProps:{innerHTML:t._s(e.txt)}})])})),0)]):t._e(),5==t.active?i("div",{staticClass:"simi-box"},[t.singers.length>0?i("ul",{staticClass:"singer-list"},t._l(t.singers,(function(t){return i("singer-item",{key:t.id,attrs:{item:t}})})),1):i("nice-empty")],1):t._e()],1)])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"follow flex-center transition"},[i("i",{staticClass:"iconfont niceIcon_add"}),t._v(" 关注TA ")])}],a=i("a34a"),r=i.n(a),c=i("c973"),l=i.n(c),o=i("9523"),u=i.n(o),v=i("2f62"),d=i("54dc"),m=i("946a"),f=i("aa5c"),p=i("ac08"),g=i("5819"),h=i("c75d");function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach((function(e){u()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var w={data:function(){return{singerDetail:{},userDetail:{},singerDesc:{},songs:[],albums:[],singers:[],mvs:[],singerId:"",navList:[{name:"作品",id:1},{name:"专辑",id:2},{name:"MV",id:3},{name:"歌手详情",id:4},{name:"相似歌手",id:5}],active:1,limit:20,offset:0,isPerson:!0}},components:{ArtistList:f["a"],AlbumList:p["a"],MvList:g["a"],SingerItem:h["a"]},computed:_(_({},Object(v["c"])(["singer"])),{},{detail:function(){return Object.assign(this.singerDetail,this.userDetail)},gender:function(){return this.detail.gender>0?1===this.detail.gender?"niceCRM_icon_nanxing man":"niceCRM_icon_nvxing woman":""},level:function(){return this.detail.level>0?"nicelevel-"+this.detail.level:""}}),watch:{$route:function(){var t=this.$route.query.id||this.singer.id;t&&this._initialize(t)}},methods:{tabItem:function(t){this.active=t},getArtists:function(t){var e=this;return l()(r.a.mark((function i(){var s;return r.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.$api.getArtists(t);case 3:s=i.sent,200===s.code&&(e.singerDetail=s.artist,e.getUserDetail(s.artist.accountId)),e.songs=e._normalizeSongs(s.hotSongs),e.getArtistAlbum(t),e.getArtistMv(t),i.next=13;break;case 10:i.prev=10,i.t0=i["catch"](0),console.log(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,10]])})))()},getUserDetail:function(t){var e=this;return l()(r.a.mark((function i(){var s,n,a;return r.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s={},i.prev=1,i.next=4,e.$api.getUserDetail(t);case 4:n=i.sent,a=n.profile,200===n.code&&(s.level=n.level,s.followeds=a.followeds,s.gender=a.gender,e.userDetail=s),i.next=15;break;case 9:i.prev=9,i.t0=i["catch"](1),s.level="",s.followeds="",s.gender="",e.userDetail=s;case 15:case"end":return i.stop()}}),i,null,[[1,9]])})))()},getArtistAlbum:function(t){var e=this;return l()(r.a.mark((function i(){var s,n;return r.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s={id:e.singerId||t,limit:e.detail.albumSize,offset:e.offset},i.prev=1,i.next=4,e.$api.getArtistAlbum(s);case 4:n=i.sent,200===n.code&&(e.albums=n.hotAlbums),i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](1),console.log(i.t0);case 11:case"end":return i.stop()}}),i,null,[[1,8]])})))()},getArtistMv:function(t){var e=this;return l()(r.a.mark((function i(){var s,n;return r.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s={id:e.singerId||t,limit:e.detail.mvSize,offset:e.offset},i.prev=1,i.next=4,e.$api.getArtistMv(s);case 4:n=i.sent,200===n.code&&(e.mvs=e._normalizeVideos(n.mvs)),i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](1),console.log(i.t0);case 11:case"end":return i.stop()}}),i,null,[[1,8]])})))()},getArtistDesc:function(t){var e=this;return l()(r.a.mark((function i(){var s;return r.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.$api.getArtistDesc(t);case 3:s=i.sent,200===s.code&&(s.introduction.length>0&&s.introduction.map((function(t){t.txt=t.txt.replace(/(\r\n|\n|\r)/gm,"<br />")})),e.singerDesc=s),i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](0),console.log(i.t0);case 10:case"end":return i.stop()}}),i,null,[[0,7]])})))()},getArtistSimi:function(t){var e=this;return l()(r.a.mark((function i(){var s;return r.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.$api.getArtistSimi(t);case 3:s=i.sent,200===s.code&&(e.singers=s.artists),i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](0),console.log(i.t0);case 10:case"end":return i.stop()}}),i,null,[[0,7]])})))()},_normalizeSongs:function(t){var e=[];return t.map((function(t){t.id&&e.push(Object(d["a"])(t))})),e},_normalizeVideos:function(t){var e=[];return t.map((function(t){t.id&&e.push(Object(m["a"])({id:t.id,nickName:t.artistName,name:t.name,playCount:t.playCount,duration:t.duration,image:t.imgurl16v9}))})),e},_initialize:function(t){this.active=1,this.albumOffset=0,this.mvOffset=0,this.albums=[],this.mvs=[],this.singerId=Number(t),this.getArtists(t),this.getUserDetail(t),this.getArtistDesc(t),this.getArtistSimi(t)}},created:function(){var t=this.$route.query.id||this.singer.id;t&&this._initialize(t)},mounted:function(){}},x=w,C=(i("f158"),i("2877")),D=Object(C["a"])(x,s,n,!1,null,"61f2fa22",null);e["default"]=D.exports},f158:function(t,e,i){"use strict";var s=i("4987"),n=i.n(s);n.a}}]);
//# sourceMappingURL=chunk-3c8d635e.b327408b.js.map