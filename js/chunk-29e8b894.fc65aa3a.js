(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29e8b894"],{"13fa":function(t,e,a){},"2d3d":function(t,e,a){"use strict";var i=a("8144"),s=a.n(i);s.a},8144:function(t,e,a){},"9b38":function(t,e,a){"use strict";var i=a("13fa"),s=a.n(i);s.a},b20d:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},t._l(t.sheetList,(function(e){return a("div",{key:e.id,staticClass:"item",class:t.numClass,on:{click:function(a){return t.toDetail(e)}}},[a("div",{staticClass:"wrapper"},[a("a",[a("div",{staticClass:"cover"},[a("div",{staticClass:"image"},[a("el-image",{key:e.picUrl||e.coverImgUrl+"?param=300y300",attrs:{src:e.picUrl||e.coverImgUrl+"?param=300y300",lazy:""}},[a("div",{staticClass:"image-slot flex-center flex-column",attrs:{slot:"placeholder"},slot:"placeholder"},[a("i",{staticClass:"iconfont niceicon-3"}),a("p",[t._v("加载中"),a("span",{staticClass:"dot"},[t._v("...")])])]),a("div",{staticClass:"image-slot flex-center",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])],1),a("div",{staticClass:"count"},[a("i",{staticClass:"arrow"}),a("span",[t._v(t._s(t.utils.tranNumber(e.playCount,0)))])])])])]),a("div",{staticClass:"info"},[a("h2",{staticClass:"name ellipsis-two"},[t._v(" "+t._s(e.name)+" ")])])])})),0)},s=[],n={data:function(){return{}},props:{sheetList:{type:Array},num:{type:Number,default:8}},components:{},computed:{numClass:function(){return 2==this.num?"two":"eight"}},watch:{},methods:{toDetail:function(t){console.log(t);var e={id:t.id};this.$router.push({name:"playlistDetail",query:e})}},created:function(){},mounted:function(){}},c=n,r=(a("2d3d"),a("2877")),o=Object(r["a"])(c,i,s,!1,null,"a8b8fbfc",null);e["a"]=o.exports},ea06:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playlist-wrap container"},[a("div",{staticClass:"filter shadow"},[a("div",{staticClass:"title flex-center",on:{click:t.openFilter}},[t._v(" "+t._s(t.currentCat)+" "),a("i",{staticClass:"iconfont niceiconfontyoujiantou-copy-copy-copy-copy"}),a("transition",{attrs:{name:"fade"}},[t.showFilter?a("div",{staticClass:"filter-box shadow"},t._l(t.cateList,(function(e){return a("div",{key:e.key,staticClass:"item"},[a("h2",[a("i",{staticClass:"iconfont",class:e.icon}),t._v(t._s(e.type)+" ")]),a("ul",t._l(e.list,(function(e){return a("li",{key:e.name,class:t.currentCat==e.name?"active":"",on:{click:function(a){return t.chooseCat(e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])})),0):t._e()])],1),a("div",{staticClass:"hot-tag flex-row"},[a("p",[t._v("热门标签：")]),a("ul",{staticClass:"flex-center"},t._l(t.hotCategories,(function(e){return a("li",{key:e.id,class:t.currentCat==e.name?"active":"",on:{click:function(a){return t.chooseCat(e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),a("div",{staticClass:"type"},[a("div",{staticClass:"item",class:"hot"==t.sortType?"active":"",on:{click:function(e){return t.chooseType("hot")}}},[t._v(" 热门 ")]),a("div",{staticClass:"item",class:"new"==t.sortType?"active":"",on:{click:function(e){return t.chooseType("new")}}},[t._v(" 最新 ")])])]),a("song-sheet",{directives:[{name:"loading",rawName:"v-loading",value:t.fullscreenLoading,expression:"fullscreenLoading"}],attrs:{sheetList:t.playList}}),a("div",{staticClass:"page-wrap"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.limit,background:"","hide-on-single-page":"",layout:"total, prev, pager, next",total:t.pageTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},s=[],n=a("a34a"),c=a.n(n),r=a("c973"),o=a.n(r),l=a("b20d"),u={data:function(){return{categories:{},hotCategories:[],cateList:[],playList:[],showFilter:!1,pageTotal:0,currentPage:0,limit:40,offset:0,currentCat:"全部",sortType:"hot",typeList:[{key:0,value:"语种",icon:"niceyuyan"},{key:1,value:"风格",icon:"nicefengge"},{key:2,value:"场景",icon:"nicekafeidengdai"},{key:3,value:"情感",icon:"niceqingganqingshu"},{key:4,value:"主题",icon:"nicepifugexinghuazhuti-xianxing"}],fullscreenLoading:!1}},components:{songSheet:l["a"]},computed:{},watch:{},methods:{handleSizeChange:function(t){this.limit=t,this.offset=this.limit*this.currentPage,this.getPlayList()},handleCurrentChange:function(t){this.currentPage=t,this.offset=(t-1)*this.limit,this.getPlayList()},openFilter:function(){this.showFilter=!this.showFilter},chooseType:function(t){this.sortType=t,this.getPlayList()},chooseCat:function(t){this.currentCat=t,this.getPlayList()},getCatList:function(){var t=this;return o()(c.a.mark((function e(){var a;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.getCatList();case 3:a=e.sent,200===a.code&&(t.categories=a.categories,t.cateList=t.categoryGroup(a.sub,"category")),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getHotlist:function(){var t=this;return o()(c.a.mark((function e(){var a;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.getHotlist();case 3:a=e.sent,200===a.code&&(t.hotCategories=a.tags),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getPlayList:function(){var t=this;return o()(c.a.mark((function e(){var a,i;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.fullscreenLoading=!0,a={order:t.sortType,cat:t.currentCat,limit:t.limit,offset:t.offset},e.prev=2,e.next=5,t.$api.getPlayList(a);case 5:i=e.sent,200===i.code&&(t.playList=i.playlists,t.pageTotal=i.total,t.fullscreenLoading=!1),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},categoryGroup:function(t,e){for(var a=this,i={},s=0;s<t.length;s++){for(var n in t[s])n==e&&(i[t[s][n]]={list:i[t[s][e]]?i[t[s][e]].list:[]});i[t[s][e]].list.push(t[s])}var c=[],r=function(t){var e="",s="",n="";a.typeList.map((function(a){a.key==i[t].list[0].category&&(e=a.value,s=a.key,n=a.icon)})),c.push({type:e,category:s,icon:n,list:i[t].list})};for(var o in i)r(o);return c}},created:function(){},mounted:function(){var t=this.$route.query.cat;console.log(t),t&&(this.currentCat=t),this.getHotlist(),this.getCatList(),this.getPlayList()}},p=u,h=(a("9b38"),a("2877")),f=Object(h["a"])(p,i,s,!1,null,"49e0a650",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-29e8b894.fc65aa3a.js.map