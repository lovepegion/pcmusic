(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f6d61dd"],{5819:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mv-box"},[t.mvs.length>0?i("ul",{staticClass:"mv-list"},t._l(t.mvs,(function(e){return i("li",{key:e.id,class:e.isLive?"live":""},[i("div",{staticClass:"cover"},[i("div",{staticClass:"image"},[i("el-image",{key:e.image+"?param=352y197",attrs:{src:e.image+"?param=325y197",lazy:""}},[i("div",{staticClass:"image-slot flex-center flex-column",attrs:{slot:"placeholder"},slot:"placeholder"},[i("i",{staticClass:"iconfont niceicon-3"})]),i("div",{staticClass:"image-slot flex-center",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline"})])])],1),i("div",{staticClass:"count"},[i("i",{staticClass:"arrow"}),i("span",[t._v(t._s(t.utils.tranNumber(e.playCount,0)))])]),i("div",{staticClass:"action"},[e.isLive?i("button",{staticClass:"play flex-center",attrs:{title:"播放"},on:{click:function(i){return t.toLive(e.id)}}},[i("i",{staticClass:"iconfont nicebofang1"})]):i("button",{staticClass:"play flex-center",attrs:{title:"播放"},on:{click:function(i){return t.toDetail(e.id,e.type)}}},[i("i",{staticClass:"iconfont nicebofang1"})])]),i("div",{staticClass:"foot"},[i("p",[t._v(t._s(e.nickName))]),i("p",[t._v(t._s(e.duration))])])]),i("div",{staticClass:"info"},[i("h2",{staticClass:"title ellipsis"},[t._v(t._s(e.name))])])])})),0):i("nice-empty"),t.loadStatus?i("div",{staticClass:"load-bottom"},[i("nice-loading")],1):t._e()],1)},a=[],s=i("9523"),o=i.n(s),r=i("2f62");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={data:function(){return{}},props:{mvs:{type:Array},loadStatus:{type:Boolean},loading:{type:Boolean},type:{type:String}},components:{},computed:{noMore:function(){return!this.loading},disabled:function(){return this.loading||this.noMore}},watch:{},methods:l({toLive:function(t){var e="https://iplay.163.com/live?id=".concat(t);window.open(e,"_blank")},toDetail:function(t){this.stopPlay(),"number"==typeof t||t.length<10?this.$router.push({name:"mvDetail",query:{id:t}}):this.$router.push({name:"videoDetail",query:{id:t}})}},Object(r["b"])(["stopPlay"])),created:function(){},mounted:function(){}},d=u,f=(i("8a38"),i("2877")),v=Object(f["a"])(d,n,a,!1,null,"6dd7d9ce",null);e["a"]=v.exports},7524:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-wrap container"},[i("div",{staticClass:"filter shadow"},[i("div",{staticClass:"title flex-center",on:{click:t.openFilter}},[t._v(" "+t._s(t.currentCat)+" "),i("i",{staticClass:"iconfont niceiconfontyoujiantou-copy-copy-copy-copy"}),i("transition",{attrs:{name:"fade"}},[t.showFilter?i("div",{staticClass:"filter-box shadow"},[i("ul",t._l(t.tags,(function(e){return i("li",{key:e.id,class:t.currentCat==e.name?"active":"",on:{click:function(i){return t.chooseCat(e.id,e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]):t._e()])],1),i("div",{staticClass:"hot-tag flex-row"},[i("p",[t._v("分类：")]),i("ul",{staticClass:"flex-center"},t._l(t.hotCategories,(function(e){return i("li",{key:e.id,class:t.currentCat==e.name?"active":"",on:{click:function(i){return t.chooseCat(e.id,e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),0)]),i("div",{staticClass:"all",class:"全部"==t.currentCat?"active":"",on:{click:function(e){return t.chooseCat("","全部")}}},[t._v(" 全部 ")])]),i("mv-list",{directives:[{name:"loading",rawName:"v-loading",value:t.fullscreenLoading,expression:"fullscreenLoading"}],attrs:{mvs:t.videos}}),i("div",{staticClass:"page flex-center"},[i("button",{staticClass:"btn flex-center trainsition",attrs:{disabled:0==t.offset},on:{click:t.prev}},[t._v(" 上一页 ")]),i("button",{staticClass:"btn flex-center trainsition",attrs:{disabled:!t.hasmore},on:{click:t.next}},[t._v(" 下一页 ")])])],1)},a=[],s=i("a34a"),o=i.n(s),r=i("c973"),c=i.n(r),l=i("946a"),u=i("5819"),d={data:function(){return{currentCat:"全部",currentId:"",hotCategories:[],tags:[],videos:[],offset:0,hasmore:!0,showFilter:!1,fullscreenLoading:!1}},components:{MvList:u["a"]},computed:{},watch:{},methods:{openFilter:function(){this.showFilter=!this.showFilter},next:function(){this.offset+=1,this.currentId?this.getVideoOther(this.currentId):this.getVideoAll()},prev:function(){this.offset-=1,this.currentId?this.getVideoOther(this.currentId):this.getVideoAll()},getVideoCategory:function(){var t=this;return c()(o.a.mark((function e(){var i,n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.getVideoCategory();case 3:i=e.sent,200===i.code&&(n=i.data.filter((function(t){return 1e3!==t.id})),t.hotCategories=n),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getVideoTag:function(){var t=this;return c()(o.a.mark((function e(){var i,n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.getVideoTag();case 3:i=e.sent,200===i.code&&(n=i.data.filter((function(t){return 1e3!==t.id})),t.tags=n),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getVideoAll:function(){var t=this;return c()(o.a.mark((function e(){var i;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.fullscreenLoading=!0,e.prev=1,e.next=4,t.$api.getVideoAll(t.offset);case 4:i=e.sent,200===i.code&&(t.videos=t._normalizeVideos(i.datas),t.fullscreenLoading=!1,i.hasmore?t.hasmore=!0:t.hasmore=!1),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},getVideoOther:function(t){var e=this;return c()(o.a.mark((function i(){var n;return o.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.$api.getVideoOther(t,e.offset);case 3:n=i.sent,200===n.code&&(e.videos=e._normalizeVideos(n.datas),n.hasmore?e.hasmore=!0:e.hasmore=!1),i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](0),console.log(i.t0);case 10:case"end":return i.stop()}}),i,null,[[0,7]])})))()},_normalizeVideos:function(t){var e=[];return t.map((function(t){var i=t.data,n=t.data.liveData;i.vid?e.push(Object(l["a"])({id:i.vid,nickName:i.creator.nickname,name:i.title,playCount:i.playTime,duration:i.durationms,image:i.coverUrl,isLive:!1})):e.push(Object(l["a"])({id:n.liveRoom.liveRoomNo,nickName:n.liveUser.nickName,name:n.liveRoom.title,playCount:n.liveRoom.popularity,duration:1==n.liveRoom.liveStatus?"正在直播":"直播已关闭",image:n.liveRoom.coverUrl,isLive:!0}))})),e},chooseCat:function(t,e){this.offset=0,this.hasmore=!0,this.currentCat=e,t?(this.currentId=t,this.getVideoOther(t)):this.getVideoAll()}},created:function(){},mounted:function(){this.getVideoCategory(),this.getVideoTag(),this.getVideoAll()}},f=d,v=(i("f86b"),i("2877")),p=Object(v["a"])(f,n,a,!1,null,"46e91003",null);e["default"]=p.exports},"8a38":function(t,e,i){"use strict";var n=i("c52d"),a=i.n(n);a.a},"946a":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i("970b"),a=i.n(n),s=i("fa7d"),o=function t(e){var i=e.id,n=e.nickName,s=e.name,o=e.playCount,r=e.duration,c=e.image,l=e.isLive;a()(this,t),this.id=i,this.nickName=n,this.name=s,this.playCount=o,this.duration=r,this.image=c,this.isLive=l};function r(t){return t.duration>0&&(t.duration=s["a"].formatTime(t.duration)),new o({id:t.id,nickName:t.nickName,name:t.name,playCount:t.playCount,duration:t.duration,image:t.image,isLive:t.isLive})}},"970b":function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=i},c52d:function(t,e,i){},f86b:function(t,e,i){"use strict";var n=i("fd9b"),a=i.n(n);a.a},fd9b:function(t,e,i){}}]);
//# sourceMappingURL=chunk-6f6d61dd.86ad273d.js.map