(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57e6a260"],{"2d3d":function(t,e,s){"use strict";var i=s("8144"),a=s.n(i);a.a},"3ee8":function(t,e,s){},8144:function(t,e,s){},"85d6":function(t,e,s){"use strict";var i=s("3ee8"),a=s.n(i);a.a},b20d:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},t._l(t.sheetList,(function(e){return s("div",{key:e.id,staticClass:"item",class:t.numClass,on:{click:function(s){return t.toDetail(e)}}},[s("div",{staticClass:"wrapper"},[s("a",[s("div",{staticClass:"cover"},[s("div",{staticClass:"image"},[s("el-image",{key:e.picUrl||e.coverImgUrl+"?param=300y300",attrs:{src:e.picUrl||e.coverImgUrl+"?param=300y300",lazy:""}},[s("div",{staticClass:"image-slot flex-center flex-column",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont niceicon-3"}),s("p",[t._v("加载中"),s("span",{staticClass:"dot"},[t._v("...")])])]),s("div",{staticClass:"image-slot flex-center",attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline"})])])],1),s("div",{staticClass:"count"},[s("i",{staticClass:"arrow"}),s("span",[t._v(t._s(t.utils.tranNumber(e.playCount,0)))])])])])]),s("div",{staticClass:"info"},[s("h2",{staticClass:"name ellipsis-two"},[t._v(" "+t._s(e.name)+" ")])])])})),0)},a=[],n={data:function(){return{}},props:{sheetList:{type:Array},num:{type:Number,default:8}},components:{},computed:{numClass:function(){return 2==this.num?"two":"eight"}},watch:{},methods:{toDetail:function(t){console.log(t);var e={id:t.id};this.$router.push({name:"playlistDetail",query:e})}},created:function(){},mounted:function(){}},r=n,c=(s("2d3d"),s("2877")),l=Object(c["a"])(r,i,a,!1,null,"a8b8fbfc",null);e["a"]=l.exports},e5b5:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-wrap"},[s("div",{staticClass:"banner layer"},[s("div",{staticClass:"search-inner"},[s("div",{staticClass:"search-box flex-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search",attrs:{maxlength:"128",type:"text",placeholder:"搜索音乐/MV/歌单/歌手"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),s("i",{staticClass:"iconfont nicesearch-o search-icon",on:{click:function(e){return t.search(1)}}})]),s("div",{staticClass:"list",class:t.isKeyword?"":"hot",staticStyle:{display:"none"}},[t.searchResult.songs&&t.searchResult.songs.length>0?s("div",{staticClass:"item"},[t._m(0),s("ul",t._l(t.searchResult.songs,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e.name)+" ")])})),0)]):t._e(),t.searchResult.artists&&t.searchResult.artists.length>0?s("div",{staticClass:"item"},[t._m(1),s("ul",t._l(t.searchResult.artists,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e.name)+" ")])})),0)]):t._e(),t.searchResult.albums&&t.searchResult.albums.length>0?s("div",{staticClass:"item"},[t._m(2),s("ul",t._l(t.searchResult.albums,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e.name)+" ")])})),0)]):t._e(),t.searchResult.playlists&&t.searchResult.playlists.length>0?s("div",{staticClass:"item"},[t._m(3),s("ul",t._l(t.searchResult.playlists,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e.name)+" ")])})),0)]):t._e()])])]),s("div",{staticClass:"main container"},[s("div",{staticClass:"tab flex-row"},[s("h2",[t._v("搜索结果")]),s("a",{class:1===t.type?"active":"",on:{click:function(e){return t.changeType(1)}}},[t._v("单曲")]),s("a",{class:100===t.type?"active":"",on:{click:function(e){return t.changeType(100)}}},[t._v("歌手")]),s("a",{class:10===t.type?"active":"",on:{click:function(e){return t.changeType(10)}}},[t._v("专辑")]),s("a",{class:1014===t.type?"active":"",on:{click:function(e){return t.changeType(1014)}}},[t._v("视频")]),s("a",{class:1e3===t.type?"active":"",on:{click:function(e){return t.changeType(1e3)}}},[t._v("歌单")])]),s("div",{staticClass:"content"},[1===t.type?s("artist-list",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{songs:t.songs,isPerson:t.isPerson}}):t._e(),100===t.type?s("ul",{staticClass:"singer-list"},t._l(t.singers,(function(t){return s("singer-item",{key:t.id,attrs:{item:t}})})),1):t._e(),10==t.type?s("album-list",{attrs:{albums:t.albums}}):t._e(),1014==t.type?s("mv-list",{attrs:{mvs:t.videos}}):t._e(),1e3==t.type?s("song-sheet",{attrs:{sheetList:t.playList}}):t._e()],1)])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title flex-row"},[s("i",{staticClass:"iconfont niceyinfu3"}),t._v(" 单曲 ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title flex-row"},[s("i",{staticClass:"iconfont niceicon-4"}),t._v(" 歌手 ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title flex-row"},[s("i",{staticClass:"iconfont niceRaidobox-selectedRai1"}),t._v(" 专辑 ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title flex-row"},[s("i",{staticClass:"iconfont nicebofangliebiao24",staticStyle:{"font-size":"20px"}}),t._v(" 歌单 ")])}],n=s("a34a"),r=s.n(n),c=s("c973"),l=s.n(c),o=s("54dc"),u=s("946a"),d=s("aa5c"),h=s("c75d"),v=s("ac08"),m=s("5819"),f=s("b20d"),p={data:function(){return{keyword:"",searchResult:{},limit:30,offset:0,type:1,isPerson:!0,songs:[],singers:[],albums:[],videos:[],playList:[],loading:!1}},components:{ArtistList:d["a"],SingerItem:h["a"],AlbumList:v["a"],MvList:m["a"],songSheet:f["a"]},computed:{isKeyword:function(){return 0==this.keyword.split(" ").join("").length}},watch:{keyword:function(t,e){var s=this;console.log(t,e),this.timer&&clearTimeout(this.timer),this.keyword&&0!=this.keyword.split(" ").join("").length?this.timer=setTimeout((function(){s.searchSuggest(),s.search(s.type)}),100):this.searchResult={}},$route:function(t,e){t.query.keyword!==e.query.keyword&&(this.keyword=t.query.keyword,this.search(1))}},methods:{changeType:function(t){this.type=t,this.search(t)},searchSuggest:function(){var t=this;return l()(r.a.mark((function e(){var s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.searchSuggest(t.keyword);case 2:s=e.sent,"{}"!==JSON.stringify(s.result)&&(t.searchResult=s.result);case 4:case"end":return e.stop()}}),e)})))()},search:function(t){var e=this;this.$api.search(this.keyword,this.limit,this.offset,t).then((function(s){if(200===s.code)switch(t){case 1:var i=s.result.songs,a=[];i.map((function(t){a.push(t.id)})),e.getSongDetail(a);break;case 100:e.singers=s.result.artists;break;case 10:e.albums=s.result.albums;break;case 1014:e.videos=e._normalizeVideos(s.result.videos);break;case 1e3:e.playList=s.result.playlists;break;default:var n=s.result.songs,r=[];n.map((function(t){r.push(t.id)})),e.getSongDetail(r);break}})).catch((function(t){console.log(t)}))},getSongDetail:function(t){var e=this;return l()(r.a.mark((function s(){var i,a,n,c;return r.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.loading=!0,i=(new Date).valueOf(),a=t.join(","),s.prev=3,s.next=6,e.$api.getSongDetail(a,i);case 6:n=s.sent,c=n.songs,e.songs=e._normalizeSongs(c),e.loading=!1,s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](3),console.log(s.t0);case 15:case"end":return s.stop()}}),s,null,[[3,12]])})))()},_normalizeSongs:function(t){var e=[];return t.map((function(t){t.id&&e.push(Object(o["a"])(t))})),e},_normalizeVideos:function(t){var e=[];return t.map((function(t){t.vid&&e.push(Object(u["a"])({id:t.vid,nickName:t.creator.nickname,name:t.title,playCount:t.playTime,duration:t.durationms,image:t.coverUrl,isLive:!1}))})),e}},created:function(){},mounted:function(){var t=this.$route.query.keyword;t&&(this.keyword=t,this.search(1))}},y=p,g=(s("85d6"),s("2877")),_=Object(g["a"])(y,i,a,!1,null,"2879efb7",null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-57e6a260.56a4d80f.js.map