(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a0c7432"],{"182a":function(t,a,s){"use strict";var e=s("4d4d"),i=s.n(e);i.a},"4d4d":function(t,a,s){},"54dc":function(t,a,s){"use strict";s.d(a,"a",(function(){return r}));var e=s("970b"),i=s.n(e),n=s("fa7d"),c=function t(a){var s=a.id,e=a.singer,n=a.name,c=a.album,r=a.duration,l=a.image,o=a.url,u=a.playCount,m=a.score;i()(this,t),this.id=s,this.singer=e,this.name=n,this.album=c,this.duration=r,this.image=l,this.url=o,this.playCount=u,this.score=m};function r(t){return new c({id:t.id,singer:l(t.ar||t.artists),name:t.name,album:t.al?t.al.name:t.album.name,duration:n["a"].formatSecond(t.dt||t.duration),image:t.al?t.al.picUrl:t.album.artist.img1v1Url,url:"https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3"),playCount:t.playCount||"",score:t.score||""})}function l(t){var a=[];return t?(t.map((function(t){a.push(t.name)})),a.join(" / ")):""}},"6ef4":function(t,a,s){"use strict";var e=s("804b"),i=s.n(e);i.a},"804b":function(t,a,s){},"970b":function(t,a){function s(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}t.exports=s},aa5c:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"artist-box"},[s("div",{staticClass:"tool-head"},[s("div",{staticClass:"item play-item",on:{click:t.playAllSong}},[s("i",{staticClass:"iconfont niceOutlined_Play"}),t._v(" 播放全部 ")]),t.isPerson?t._e():s("div",{staticClass:"item",class:t.subscribed?"active":"",on:{click:function(a){return t.collect()}}},[s("i",{staticClass:"iconfont niceicon-heart"}),t._v(" "+t._s(t.collectText)+" ")])]),s("table",{staticClass:"artist-table"},[t._m(0),s("tbody",t._l(t.songs,(function(a,e){return s("tr",{key:a.id,class:t.currentSong.id==a.id&&t.playing?"playing":""},[s("td",[s("div",{staticClass:"index-container flex-center"},[s("span",{staticClass:"num"},[t._v(t._s(t.utils.formatZero(e+1,2)))]),t._m(1,!0),s("i",{staticClass:"iconfont nicebofang2 play-btn",on:{click:function(s){return t.playSong(a,e)}}}),s("i",{staticClass:"iconfont nicezanting1 pause-btn",on:{click:function(s){return t.pauseSong(a,e)}}})])]),s("td",[s("div",{staticClass:"name-container"},[s("div",{staticClass:"avatar"},[s("el-image",{key:a.image+"?param=100y100",attrs:{src:a.image+"?param=100y100",lazy:""}},[s("div",{staticClass:"image-slot flex-center flex-column",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont niceicon-3"})]),s("div",{staticClass:"image-slot flex-center",attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline"})])])],1),s("p",{staticClass:"name ellipsis",attrs:{title:a.name}},[t._v(t._s(a.name))])])]),s("td",[s("div",{staticClass:"artist-container"},[s("p",{staticClass:"author ellipsis",attrs:{title:a.singer}},[t._v(" "+t._s(a.singer)+" ")])])]),s("td",[s("div",{staticClass:"album-container"},[s("p",{staticClass:"ellipsis",attrs:{title:a.album}},[t._v(t._s(a.album))])])]),s("td",[s("div",{staticClass:"duration-container"},[s("p",[t._v(t._s(t.utils.formatSecondTime(a.duration)))]),t._m(2,!0)])])])})),0)])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("tr",[s("th",{staticClass:"th-index"},[t._v("序号")]),s("th",{staticClass:"th-name"},[t._v("歌曲")]),s("th",{staticClass:"th-artist"},[t._v("歌手")]),s("th",{staticClass:"th-album"},[t._v("专辑")]),s("th",{staticClass:"th-duration"},[t._v("时长")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"play-icon"},[s("div",{staticClass:"line",staticStyle:{"animation-delay":"-1.2s"}}),s("div",{staticClass:"line"}),s("div",{staticClass:"line",staticStyle:{"animation-delay":"-1.5s"}}),s("div",{staticClass:"line",staticStyle:{"animation-delay":"-0.9s"}}),s("div",{staticClass:"line",staticStyle:{"animation-delay":"-0.6s"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"song-tools"},[s("i",{staticClass:"iconfont niceicon-heart",attrs:{title:"喜欢"}}),s("i",{staticClass:"iconfont nicexiazai",attrs:{title:"下载"}}),s("i",{staticClass:"iconfont nicedot",attrs:{title:"更多"}})])}],n=s("a34a"),c=s.n(n),r=s("c973"),l=s.n(r),o=s("9523"),u=s.n(o),m=s("2f62");function d(t,a){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),s.push.apply(s,e)}return s}function p(t){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?d(Object(s),!0).forEach((function(a){u()(t,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))}))}return t}var f={data:function(){return{}},props:{songs:{type:Array},subscribed:{type:Boolean},isPerson:{type:Boolean,default:!1}},components:{},computed:p(p({},Object(m["c"])(["currentIndex","playing","currentSong"])),{},{collectText:function(){return this.subscribed?"已收藏":"收藏"}}),watch:{},methods:p({playSong:function(t,a){this.selectPlay({list:this.songs,index:a})},pauseSong:function(){this.pausePlay()},playAllSong:function(){this.playAll({list:this.songs})},collect:function(){var t=this;return l()(c.a.mark((function a(){return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$emit("collectArtist");case 1:case"end":return a.stop()}}),a)})))()}},Object(m["b"])(["selectPlay","playAll","pausePlay"])),created:function(){},mounted:function(){}},v=f,h=(s("6ef4"),s("2877")),C=Object(h["a"])(v,e,i,!1,null,"404980e0",null);a["a"]=C.exports},eea2:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"album-detail container"},[s("div",{staticClass:"left shadow"},[s("div",{staticClass:"top"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.detail.picUrl+"?param=200y200",alt:""}})]),s("div",{staticClass:"info"},[s("div",{staticClass:"title flex-between"},[s("span",[t._v(t._s(t.detail.name))]),s("div")]),s("div",{staticClass:"user flex-row"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.creator.picUrl+"?param=100y100",alt:""}})]),s("p",{staticClass:"nickname"},[t._v(t._s(t.creator.name))]),s("p",{staticClass:"createTime"},[t._v(" "+t._s(t.utils.dateFormat(t.detail.publishTime,"YYYY-MM-DD"))+"创建 ")])]),s("div",{staticClass:"tag flex-row"},[t._v("发行公司："+t._s(t.detail.company))]),s("div",{staticClass:"desc"},[s("p",{staticClass:"ellipsis-two",domProps:{innerHTML:t._s(t.detail.description)}}),t.txtLength(t.detail.description)>50?s("span",{staticClass:"flex-row",on:{click:function(a){return t.openDesc(t.detail.name,t.detail.description)}}},[t._v("全部"),s("i",{staticClass:"iconfont niceiconfontyoujiantou-copy-copy-copy-copy"})]):t._e()])])]),s("div",{staticClass:"content"},[s("artist-list",{attrs:{songs:t.songs,isPerson:!0}})],1)]),s("div",{staticClass:"right"},[s("div",{staticClass:"related module shadow"},[t._m(0),s("ul",t._l(t.hotAlbums,(function(a){return s("li",{key:a.id,on:{click:function(s){return t.toDetail(a.id)}}},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:a.picUrl+"?param=150y150",alt:a.name,title:a.name}})]),s("div",{staticClass:"info"},[s("h2",{staticClass:"ellipsis",attrs:{title:a.name}},[t._v(t._s(a.name))]),s("span",[t._v("By. "),s("small",[t._v(" "+t._s(a.artist.name))])])])])})),0)]),s("div",{staticClass:"comment module shadow"},[t._m(1),s("ul",t._l(t.comments,(function(a){return s("li",{key:a.time,staticClass:"item"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:a.user.avatarUrl+"?param=150y150",alt:a.user.nickname,title:a.user.nickname}})]),s("div",{staticClass:"info"},[s("h2",[t._v(" "+t._s(a.user.nickname)),s("small",[t._v(" · "+t._s(t.utils.formatMsgTime(a.time)))])]),s("p",[t._v(t._s(a.content))])])])})),0)])])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card-header flex-row"},[s("span",[t._v("热门专辑")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"card-header flex-row"},[s("span",[t._v("精彩评论")])])}],n=s("a34a"),c=s.n(n),r=s("c973"),l=s.n(r),o=s("54dc"),u=s("aa5c"),m={data:function(){return{detail:{},creator:{},songs:[],subscribers:[],comments:[],hotAlbums:[]}},components:{ArtistList:u["a"]},computed:{txtLength:function(){return function(t){if(t)return t.length}}},watch:{$route:function(t,a){console.log(t,a);var s=this.$route.query.id;s&&this._initialize(s)}},methods:{getAlbumData:function(t){var a=this;return l()(c.a.mark((function s(){var e;return c.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,a.$api.getAlbumData(t);case 3:e=s.sent,200===e.code&&(a.detail=e.album,a.creator=e.album.artist,a.songs=a._normalizeSongs(e.songs),a.getArtistAlbum()),s.next=10;break;case 7:s.prev=7,s.t0=s["catch"](0),a.$message.error(s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()},getArtistAlbum:function(){var t=this;return l()(c.a.mark((function a(){var s,e;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={id:t.creator.id,limit:5,offset:0},a.prev=1,a.next=4,t.$api.getArtistAlbum(s);case 4:e=a.sent,200===e.code&&(t.hotAlbums=e.hotAlbums),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](1),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})))()},getAlbumComment:function(t){var a=this;return l()(c.a.mark((function s(){var e,i;return c.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e={id:t,limit:28,offset:0},s.prev=1,s.next=4,a.$api.getAlbumComment(e);case 4:i=s.sent,200===i.code&&(i.hotComments.length>0?a.comments=i.hotComments:a.comments=i.comments),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](1),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[1,8]])})))()},_normalizeSongs:function(t){var a=[];return t.map((function(t){t.id&&a.push(Object(o["a"])(t))})),a},openDesc:function(t,a){this.$alert(a,t,{closeOnClickModal:!0,customClass:"descBox",showConfirmButton:!1,dangerouslyUseHTMLString:!0})},toDetail:function(t){this.$router.push({name:"albumDetail",query:{id:t}})},_initialize:function(t){this.getAlbumData(t),this.getAlbumComment(t)}},created:function(){},mounted:function(){var t=this.$route.query.id;console.log(t),this.albumId=t,t&&this._initialize(t)}},d=m,p=(s("182a"),s("2877")),f=Object(p["a"])(d,e,i,!1,null,"125fc020",null);a["default"]=f.exports}}]);
//# sourceMappingURL=chunk-1a0c7432.c330520a.js.map