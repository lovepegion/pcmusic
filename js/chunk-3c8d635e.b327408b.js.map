{"version":3,"sources":["webpack:///./src/views/singer/detail/Index.vue?9cdc","webpack:///src/views/singer/detail/Index.vue","webpack:///./src/views/singer/detail/Index.vue?4f97","webpack:///./src/views/singer/detail/Index.vue","webpack:///./src/views/singer/detail/Index.vue?a00b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","detail","img1v1Url","directives","name","rawName","value","expression","class","level","_v","_s","gender","_m","domProps","briefDesc","musicSize","albumSize","mvSize","followeds","_l","item","key","id","active","on","$event","tabItem","songs","isPerson","_e","albums","mvs","singerDesc","ti","txt","singers","length","staticRenderFns","data","singerDetail","userDetail","singerId","navList","limit","offset","components","ArtistList","AlbumList","MvList","SingerItem","computed","Object","assign","watch","$route","_initialize","methods","_normalizeSongs","list","map","ret","push","_normalizeVideos","albumOffset","mvOffset","Number","getArtists","getUserDetail","getArtistDesc","getArtistSimi","created","mounted","component"],"mappings":"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","file":"js/chunk-3c8d635e.b327408b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"singer-detail\"},[_c('div',{staticClass:\"singer-info\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"top-mask\"},[_c('div',{staticClass:\"singer-box flex-column flex-center\"},[_c('div',{staticClass:\"avatar transition\"},[_c('img',{attrs:{\"src\":_vm.detail.img1v1Url + '?param=200y200'}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.level),expression:\"level\"}],staticClass:\"level flex-center transition\"},[_c('i',{staticClass:\"iconfont icon-level\",class:_vm.level})])]),_c('p',{staticClass:\"nickname\"},[_vm._v(\" \"+_vm._s(_vm.detail.name)+\" \"),_c('i',{staticClass:\"iconfont\",class:_vm.gender})]),_vm._m(0),_c('div',{staticClass:\"desc ellipsis-two\",domProps:{\"innerHTML\":_vm._s(_vm.detail.briefDesc)}}),_c('ul',{staticClass:\"info flex-center\"},[_c('li',[_c('p',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.detail.musicSize))]),_c('p',{staticClass:\"text\"},[_vm._v(\"单曲数\")])]),_c('li',[_c('p',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.detail.albumSize))]),_c('p',{staticClass:\"text\"},[_vm._v(\"专辑数\")])]),_c('li',[_c('p',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.detail.mvSize))]),_c('p',{staticClass:\"text\"},[_vm._v(\"MV数\")])]),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.detail.followeds),expression:\"detail.followeds\"}]},[_c('p',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.detail.followeds))]),_c('p',{staticClass:\"text\"},[_vm._v(\"粉丝\")])])])])]),_c('div',{staticClass:\"bottom-trangle\"})]),_c('div',{staticClass:\"bottom container\"},[_c('ul',{staticClass:\"nav flex-center\"},_vm._l((_vm.navList),function(item){return _c('li',{key:item.id,class:_vm.active == item.id ? 'active' : '',on:{\"click\":function($event){return _vm.tabItem(item.id)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0),_c('div',{staticClass:\"content\"},[(_vm.active == 1)?_c('artist-list',{attrs:{\"songs\":_vm.songs,\"isPerson\":_vm.isPerson}}):_vm._e(),(_vm.active == 2)?_c('album-list',{attrs:{\"albums\":_vm.albums}}):_vm._e(),(_vm.active == 3)?_c('mv-list',{attrs:{\"mvs\":_vm.mvs,\"type\":\"mv\"}}):_vm._e(),(_vm.active == 4)?_c('div',{staticClass:\"info-box\"},[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.detail.name)+\"简介\")]),_c('div',{staticClass:\"profile\",domProps:{\"innerHTML\":_vm._s(_vm.singerDesc.briefDesc)}}),_c('div',{staticClass:\"introduction\"},_vm._l((_vm.singerDesc.introduction),function(item){return _c('div',{key:item.ti,staticClass:\"item\"},[_c('h3',{staticClass:\"sub-title\"},[_vm._v(_vm._s(item.ti))]),_c('p',{domProps:{\"innerHTML\":_vm._s(item.txt)}})])}),0)]):_vm._e(),(_vm.active == 5)?_c('div',{staticClass:\"simi-box\"},[(_vm.singers.length > 0)?_c('ul',{staticClass:\"singer-list\"},_vm._l((_vm.singers),function(item){return _c('singer-item',{key:item.id,attrs:{\"item\":item}})}),1):_c('nice-empty')],1):_vm._e()],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"follow flex-center transition\"},[_c('i',{staticClass:\"iconfont niceIcon_add\"}),_vm._v(\" 关注TA \")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"singer-detail\">\n    <div class=\"singer-info\">\n      <div class=\"top\">\n        <div class=\"top-mask\">\n          <div class=\"singer-box flex-column flex-center\">\n            <div class=\"avatar transition\">\n              <img :src=\"detail.img1v1Url + '?param=200y200'\" />\n              <div class=\"level flex-center transition\" v-show=\"level\">\n                <i class=\"iconfont icon-level\" :class=\"level\"></i>\n              </div>\n            </div>\n            <p class=\"nickname\">\n              {{ detail.name }}\n              <i class=\"iconfont\" :class=\"gender\"></i>\n            </p>\n            <div class=\"follow flex-center transition\">\n              <i class=\"iconfont niceIcon_add\"></i>\n              关注TA\n            </div>\n            <div class=\"desc ellipsis-two\" v-html=\"detail.briefDesc\"></div>\n            <ul class=\"info flex-center\">\n              <li>\n                <p class=\"num\">{{ detail.musicSize }}</p>\n                <p class=\"text\">单曲数</p>\n              </li>\n              <li>\n                <p class=\"num\">{{ detail.albumSize }}</p>\n                <p class=\"text\">专辑数</p>\n              </li>\n              <li>\n                <p class=\"num\">{{ detail.mvSize }}</p>\n                <p class=\"text\">MV数</p>\n              </li>\n              <li v-show=\"detail.followeds\">\n                <p class=\"num\">{{ detail.followeds }}</p>\n                <p class=\"text\">粉丝</p>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class=\"bottom-trangle\"></div>\n      </div>\n      <div class=\"bottom container\">\n        <ul class=\"nav flex-center\">\n          <li\n            v-for=\"item of navList\"\n            :key=\"item.id\"\n            :class=\"active == item.id ? 'active' : ''\"\n            @click=\"tabItem(item.id)\"\n          >\n            {{ item.name }}\n          </li>\n        </ul>\n        <div class=\"content\">\n          <artist-list :songs=\"songs\" :isPerson=\"isPerson\" v-if=\"active == 1\" />\n          <album-list :albums=\"albums\" v-if=\"active == 2\" />\n          <mv-list :mvs=\"mvs\" type=\"mv\" v-if=\"active == 3\" />\n          <div class=\"info-box\" v-if=\"active == 4\">\n            <h2 class=\"title\">{{ detail.name }}简介</h2>\n            <div class=\"profile\" v-html=\"singerDesc.briefDesc\"></div>\n            <div class=\"introduction\">\n              <div\n                class=\"item\"\n                v-for=\"item of singerDesc.introduction\"\n                :key=\"item.ti\"\n              >\n                <h3 class=\"sub-title\">{{ item.ti }}</h3>\n                <p v-html=\"item.txt\"></p>\n              </div>\n            </div>\n          </div>\n          <div class=\"simi-box\" v-if=\"active == 5\">\n            <ul class=\"singer-list\" v-if=\"singers.length > 0\">\n              <singer-item\n                v-for=\"item of singers\"\n                :key=\"item.id\"\n                :item=\"item\"\n              />\n            </ul>\n            <nice-empty v-else></nice-empty>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { createSong } from '@/model/song'\nimport { createVideo } from '@/model/video'\nimport ArtistList from 'components/common/artistList/Index'\nimport AlbumList from 'components/common/albumList/Index'\nimport MvList from 'components/common/mvList/Index'\nimport SingerItem from 'components/common/singerItem/Index'\nexport default {\n  data() {\n    return {\n      // 歌手基本信息\n      singerDetail: {},\n      // 歌手用户信息\n      userDetail: {},\n      // 歌手简介\n      singerDesc: {},\n      // 热门单曲\n      songs: [],\n      // 专辑\n      albums: [],\n      // 相似歌手\n      singers: [],\n      // 歌手MV\n      mvs: [],\n      // 歌手id\n      singerId: '',\n      // 模块\n      navList: [\n        {\n          name: '作品',\n          id: 1\n        },\n        {\n          name: '专辑',\n          id: 2\n        },\n        {\n          name: 'MV',\n          id: 3\n        },\n        {\n          name: '歌手详情',\n          id: 4\n        },\n        {\n          name: '相似歌手',\n          id: 5\n        }\n      ],\n      // 当前显示模块\n      active: 1,\n      // 分页显示条数\n      limit: 20,\n      // 分页偏移\n      offset: 0,\n      isPerson: true\n    }\n  },\n  components: {\n    ArtistList,\n    AlbumList,\n    MvList,\n    SingerItem\n  },\n  computed: {\n    ...mapGetters(['singer']),\n    // 合并歌手详情\n    detail() {\n      return Object.assign(this.singerDetail, this.userDetail)\n    },\n    // 设置歌手性别\n    gender() {\n      if (this.detail.gender > 0) {\n        return this.detail.gender === 1\n          ? 'niceCRM_icon_nanxing man'\n          : 'niceCRM_icon_nvxing woman'\n      } else {\n        return ''\n      }\n    },\n    // 设置歌手等级\n    level() {\n      if (this.detail.level > 0) {\n        return 'nicelevel-' + this.detail.level\n      } else {\n        return ''\n      }\n    }\n  },\n  watch: {\n    $route() {\n      let id = this.$route.query.id || this.singer.id\n      if (id) {\n        this._initialize(id)\n      }\n    }\n  },\n  methods: {\n    // 切换歌手信息\n    tabItem(id) {\n      this.active = id\n    },\n    // 获取歌手基本信息和热门50首单曲\n    async getArtists(id) {\n      try {\n        let res = await this.$api.getArtists(id)\n        if (res.code === 200) {\n          this.singerDetail = res.artist\n          this.getUserDetail(res.artist.accountId)\n        }\n        this.songs = this._normalizeSongs(res.hotSongs)\n        this.getArtistAlbum(id)\n        this.getArtistMv(id)\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    // 获取(歌手)用户信息\n    async getUserDetail(uid) {\n      let detail = {}\n      try {\n        let res = await this.$api.getUserDetail(uid)\n        let profile = res.profile\n        if (res.code === 200) {\n          detail.level = res.level\n          detail.followeds = profile.followeds\n          detail.gender = profile.gender\n          this.userDetail = detail\n        }\n      } catch (error) {\n        detail.level = ''\n        detail.followeds = ''\n        detail.gender = ''\n        this.userDetail = detail\n      }\n    },\n    // 获取歌手专辑\n    async getArtistAlbum(id) {\n      let params = {\n        id: this.singerId || id,\n        limit: this.detail.albumSize,\n        offset: this.offset\n      }\n      try {\n        let res = await this.$api.getArtistAlbum(params)\n        if (res.code === 200) {\n          this.albums = res.hotAlbums\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    // 获取歌手MV\n    async getArtistMv(id) {\n      let params = {\n        id: this.singerId || id,\n        limit: this.detail.mvSize,\n        offset: this.offset\n      }\n      try {\n        let res = await this.$api.getArtistMv(params)\n        if (res.code === 200) {\n          this.mvs = this._normalizeVideos(res.mvs)\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    // 获取歌手简介\n    async getArtistDesc(id) {\n      try {\n        let res = await this.$api.getArtistDesc(id)\n        if (res.code === 200) {\n          if (res.introduction.length > 0) {\n            res.introduction.map(item => {\n              item.txt = item.txt.replace(/(\\r\\n|\\n|\\r)/gm, '<br />')\n            })\n          }\n          this.singerDesc = res\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    // 获取相似歌手\n    async getArtistSimi(id) {\n      try {\n        let res = await this.$api.getArtistSimi(id)\n        if (res.code === 200) {\n          this.singers = res.artists\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    // 处理歌曲\n    _normalizeSongs(list) {\n      let ret = []\n      list.map(item => {\n        if (item.id) {\n          ret.push(createSong(item))\n        }\n      })\n      return ret\n    },\n    // 处理视频\n    _normalizeVideos(list) {\n      let ret = []\n      list.map(item => {\n        if (item.id) {\n          ret.push(\n            createVideo({\n              id: item.id,\n              nickName: item.artistName,\n              name: item.name,\n              playCount: item.playCount,\n              duration: item.duration,\n              image: item.imgurl16v9\n            })\n          )\n        }\n      })\n      return ret\n    },\n    //初始化\n    _initialize(id) {\n      this.active = 1\n      this.albumOffset = 0\n      this.mvOffset = 0\n      this.albums = []\n      this.mvs = []\n      this.singerId = Number(id)\n      this.getArtists(id)\n      this.getUserDetail(id)\n      this.getArtistDesc(id)\n      this.getArtistSimi(id)\n    }\n  },\n  created() {\n    let id = this.$route.query.id || this.singer.id\n    if (id) {\n      this._initialize(id)\n    }\n  },\n  mounted() {}\n}\n</script>\n<style lang=\"stylus\" scoped>\n.avatar >>> img {\n  border-radius: 5px;\n}\n.singer-detail {\n  margin-top: -20px;\n  .singer-info {\n    .top {\n      position: relative;\n      width: 100%;\n      height: 580px;\n      background: url(../../../assets/images/top-bg.jpg);\n      background-position: center;\n      background-repeat: no-repeat;\n      background-size: cover;\n      .top-mask {\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.6);\n        .singer-box {\n          height: 100%;\n          position: relative;\n          margin: 0 auto;\n          padding-top: 10px;\n          text-align: center;\n          z-index: 2;\n          .avatar {\n            width: 120px;\n            height 120px;\n            border-radius: 50%;\n            position: relative;\n            overflow: hidden;\n            .level {\n              width: 100%;\n              height: 25px;\n              position: absolute;\n              left: 0;\n              right: 0;\n              bottom: 0;\n              background: rgba(255, 255, 255, 0.8);\n              .icon-level {\n                font-size: 25px;\n                color: $color-theme;\n                margin-left: 8px;\n              }\n            }\n            img {\n              width: 120px;\n              height 120px;\n              border-radius: 50%;\n              background: #fff;\n              border: 3px solid rgba(255, 255, 255, 0.6);\n            }\n            &:hover {\n              box-shadow: 0px 5px 20px 0px rgba(255, 255, 255, 0.8);\n            }\n          }\n          .nickname {\n            margin-top: 20px;\n            font-size: 24px;\n            font-weight: 700;\n            color: #fff;\n            line-height: 24px;\n            i {\n              font-size: 20px;\n              &.man {\n                color: #1f91f2;\n              }\n              &.woman {\n                color: #fc7265;\n              }\n            }\n          }\n          .follow {\n            margin: 24px 0 30px;\n            padding: 0;\n            height: 36px;\n            width: 96px;\n            font-size: 12px;\n            line-height: 36px;\n            color: #fff;\n            border: 1px solid rgba(255, 255, 255, 0.6);\n            cursor: pointer;\n            border-radius: 18px;\n            &:hover {\n              background: rgba(255, 255, 255, 0.1);\n              border: 1px solid #fff;\n            }\n            i {\n              margin-right: 5px;\n            }\n          }\n          .desc {\n            margin: 0 auto 24px;\n            width: 740px;\n            height: 48px;\n            font-size: 14px;\n            color: rgba(255,255,255,.6);\n            line-height: 24px;\n          }\n          .info {\n            margin: 0 auto;\n            width: 100%;\n            li {\n              margin: 0 50px;\n              text-align: center;\n              .num {\n                margin-bottom: 8px;\n                font-size: 24px;\n                line-height: 24px;\n                color: #fff;\n              }\n              .text {\n                font-size: 14px;\n                line-height: 14px;\n                color: rgba(255, 255, 255, 0.6);\n              }\n            }\n          }\n        }\n      }\n      .bottom-trangle {\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        height: 137px;\n        background: url(../../../assets/images/arrow-lr.png);\n        background-position: center;\n        z-index: 1;\n      }\n    }\n    .bottom {\n      .nav {\n        margin: 30px 0;\n        li {\n          margin: 0 20px;\n          font-size: 14px;\n          font-weight: bold;\n          cursor: pointer;\n          &.active {\n            color: $color-theme;\n          }\n        }\n      }\n      .content {\n        background: #fff;\n        .info-box {\n          padding: 15px;\n          .title {\n            text-align: center;\n            position: relative;\n            margin-bottom: 30px;\n            &::after {\n              content: '';\n              width: 40px;\n              height: 2px;\n              background: $color-theme;\n              position: absolute;\n              left: 50%;\n              bottom: -10px;\n              margin-left: -20px;\n            }\n          }\n          .profile {\n            line-height: 1.7;\n            margin-bottom: 20px;\n            text-align: center;\n          }\n          .introduction {\n            .item {\n              margin-bottom: 15px;\n              .sub-title {\n                margin-bottom: 10px;\n              }\n              p {\n                line-height: 1.7\n              }\n            }\n          }\n        }\n        .simi-box {\n          padding: 15px 15px;\n          .singer-list {\n            display: flex;\n            flex-wrap: wrap;\n            margin-top: 30px;\n            margin: 0px -15px 0;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=61f2fa22&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=61f2fa22&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61f2fa22\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=61f2fa22&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=61f2fa22&lang=stylus&scoped=true&\""],"sourceRoot":""}