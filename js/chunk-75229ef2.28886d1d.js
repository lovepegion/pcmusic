(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75229ef2"],{"2d3d":function(t,e,s){"use strict";var a=s("8144"),i=s.n(a);i.a},4693:function(t,e,s){},"54dc":function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));var a=s("970b"),i=s.n(a),n=s("fa7d"),r=function t(e){var s=e.id,a=e.singer,n=e.name,r=e.album,c=e.duration,o=e.image,l=e.url,u=e.playCount,d=e.score;i()(this,t),this.id=s,this.singer=a,this.name=n,this.album=r,this.duration=c,this.image=o,this.url=l,this.playCount=u,this.score=d};function c(t){return new r({id:t.id,singer:o(t.ar||t.artists),name:t.name,album:t.al?t.al.name:t.album.name,duration:n["a"].formatSecond(t.dt||t.duration),image:t.al?t.al.picUrl:t.album.artist.img1v1Url,url:"https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3"),playCount:t.playCount||"",score:t.score||""})}function o(t){var e=[];return t?(t.map((function(t){e.push(t.name)})),e.join(" / ")):""}},"6ef4":function(t,e,s){"use strict";var a=s("804b"),i=s.n(a);i.a},"804b":function(t,e,s){},8144:function(t,e,s){},"8bbd":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"personal-wrap"},[s("div",{staticClass:"banner layer"}),s("div",{staticClass:"personal-main container"},[s("div",{staticClass:"center shadow"},[s("div",{staticClass:"card-header flex-between"},[s("p",{staticClass:"flex-row"},[t._v(" 听歌排行 "),s("span",[t._v("（累积听歌"+t._s(t.userDetail.listenSongs)+"首）")])]),s("div",{staticClass:"tab flex-row"},[s("span",{class:1==t.type?"active":"",on:{click:function(e){return t.changeType(1)}}},[t._v("最近一周")]),s("span",{staticClass:"line"}),s("span",{class:0==t.type?"active":"",on:{click:function(e){return t.changeType(0)}}},[t._v("所有时间")])])]),t.songs.length>0?s("artist-list",{attrs:{songs:t.songs,isPerson:t.isPerson}}):s("nice-empty",{attrs:{emptyText:"ta可能不想让我们看到"}})],1),s("div",{staticClass:"left"},[s("div",{staticClass:"user-box shadow"},[s("div",{staticClass:"background layer",style:{backgroundImage:"url("+t.userProfile.backgroundUrl+")"}}),s("div",{staticClass:"card flex-row"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.userProfile.avatarUrl}})]),s("div",{staticClass:"info flex-between"},[s("p",{staticClass:"name"},[t._v(t._s(t.userProfile.nickname))]),t.userInfo.userId===t.userProfile.userId?s("div",[t.userDetail.pcSign?s("button",{staticClass:"sign-btn"},[t._v("已签到")]):s("button",{staticClass:"sign-btn sign-btn-active",on:{click:t.sign}},[t._v(" 签到 ")])]):t._e()])]),s("p",{staticClass:"desc"},[t._v(t._s(t.userDetail.signature))]),s("div",{staticClass:"profile"},[s("div",{staticClass:"tag"},[t._v(" 等级： "),s("i",{staticClass:"iconfont lv-icon",class:"nicelevel-"+t.userDetail.level})]),s("div",{staticClass:"tag"},[t._v(" 年龄： "),s("span",[t._v(t._s(t.age))]),1===t.userProfile.gender?s("i",{staticClass:"iconfont niceCRM_icon_nanxing sex-icon men"}):t._e(),2===t.userProfile.gender?s("i",{staticClass:"iconfont niceCRM_icon_nvxing sex-icon women"}):t._e()]),s("div",{staticClass:"tag"},[s("font",{staticClass:"flex-shrink"},[t._v("签名：")]),s("span",{staticClass:"ellipsis"},[t._v(t._s(t.userProfile.signature))])],1)]),s("ul",{staticClass:"follow"},[s("li",[t._v(" 动态"),s("span",[t._v(t._s(t.userProfile.eventCount))])]),s("li",[t._v(" 关注"),s("span",[t._v(t._s(t.userProfile.newFollows))])]),s("li",[t._v(" 粉丝"),s("span",[t._v(t._s(t.userProfile.followeds))])])]),t.userInfo.userId===t.userProfile.userId?s("div",{staticClass:"foot flex-center"},[s("router-link",{attrs:{tag:"a",to:"/"}},[t._v("个人设置")]),s("router-link",{attrs:{tag:"a",to:"/"}},[t._v("我的等级")])],1):t._e()]),s("div",{staticClass:"right"},[s("div",{staticClass:"my module shadow"},[t._m(0),s("song-sheet",{attrs:{sheetList:t.myList,num:t.num}})],1),s("div",{staticClass:"my collect module shadow"},[t._m(1),s("song-sheet",{attrs:{sheetList:t.collectList,num:t.num}})],1)])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header flex-row"},[s("span",[t._v("我创建的歌单")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header flex-row"},[s("span",[t._v("我收藏的歌单")])])}],n=s("a34a"),r=s.n(n),c=s("c973"),o=s.n(c),l=s("9523"),u=s.n(l),d=s("2f62"),f=s("54dc"),p=s("aa5c"),v=s("b20d"),m=s("bc3a"),g=s.n(m);function h(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function y(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?h(Object(s),!0).forEach((function(e){u()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var C={data:function(){return{provinceName:"",cityName:"",myList:[],collectList:[],songs:[],num:2,type:1,userDetail:{},userProfile:{},isPerson:!0}},components:{ArtistList:p["a"],songSheet:v["a"]},computed:y(y({},Object(d["c"])(["userInfo"])),{},{age:function(){return this.utils.getAstro(this.userInfo.birthday)}}),watch:{$route:function(t,e){console.log(t.query.id),t.query.id?this.getUserDetail(t.query.id):this.getUserDetail(this.userInfo.userId),this._initialize()}},methods:{getArea:function(){var t=this;g.a.get("https://restapi.amap.com/v3/config/district",{params:{key:"0f57ee7d5045187c48cd268f9d19d815",keywords:this.userProfile.province,subdistrict:1,extensions:"base"}}).then((function(e){if(console.log(e),1==e.data.status&&"OK"==e.data.info){var s=e.data.districts[0],a=e.data.districts[0].districts;t.provinceName=s.name,a.map((function(e){e.adcode==t.userProfile.city&&(t.cityName=e.name)}))}})).catch((function(t){console.log(t)}))},changeType:function(t){this.type=t,this.getUserRecord()},getUserDetail:function(t){var e=this;return o()(r.a.mark((function s(){var a;return r.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$api.getUserDetail(t);case 3:a=s.sent,200===a.code&&(e.userDetail=a,e.userProfile=a.profile,e._initialize()),s.next=10;break;case 7:s.prev=7,s.t0=s["catch"](0),console.log(s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()},getUserRecord:function(){var t=this;return o()(r.a.mark((function e(){var s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.getUserRecord(t.userProfile.userId,t.type);case 3:s=e.sent,200===s.code&&(1==t.type?t.songs=t._normalizeSongs(s.weekData):t.songs=t._normalizeSongs(s.allData)),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getUserArtist:function(){var t=this;return o()(r.a.mark((function e(){var s,a,i,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.getUserArtist(t.userProfile.userId);case 3:s=e.sent,200===s.code&&(a=s.playlist,i=[],n=[],a.map((function(e){e.userId===t.userProfile.userId?i.push(e):n.push(e)})),t.myList=i,t.collectList=n),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},sign:function(){var t=this;return o()(r.a.mark((function e(){var s;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.userSign();case 2:s=e.sent,200===s.code&&(t.$message({message:"签到成功",type:"success"}),t.userDetail.pcSign=!0);case 4:case"end":return e.stop()}}),e)})))()},_initialize:function(){this.getArea(),this.getUserRecord(),this.getUserArtist()},_normalizeSongs:function(t){var e=[];return t.map((function(t){t.song.playCount=t.playCount,t.song.score=t.score,t.song.id&&e.push(Object(f["a"])(t.song))})),e}},created:function(){},mounted:function(){var t=this.$route.query.id;t?this.getUserDetail(t):this.getUserDetail(this.userInfo.userId)}},_=C,b=(s("e8e5"),s("2877")),w=Object(b["a"])(_,a,i,!1,null,"a796aa06",null);e["default"]=w.exports},"970b":function(t,e){function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=s},aa5c:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"artist-box"},[s("div",{staticClass:"tool-head"},[s("div",{staticClass:"item play-item",on:{click:t.playAllSong}},[s("i",{staticClass:"iconfont niceOutlined_Play"}),t._v(" 播放全部 ")]),t.isPerson?t._e():s("div",{staticClass:"item",class:t.subscribed?"active":"",on:{click:function(e){return t.collect()}}},[s("i",{staticClass:"iconfont niceicon-heart"}),t._v(" "+t._s(t.collectText)+" ")])]),s("table",{staticClass:"artist-table"},[t._m(0),s("tbody",t._l(t.songs,(function(e,a){return s("tr",{key:e.id,class:t.currentSong.id==e.id&&t.playing?"playing":""},[s("td",[s("div",{staticClass:"index-container flex-center"},[s("span",{staticClass:"num"},[t._v(t._s(t.utils.formatZero(a+1,2)))]),t._m(1,!0),s("i",{staticClass:"iconfont nicebofang2 play-btn",on:{click:function(s){return t.playSong(e,a)}}}),s("i",{staticClass:"iconfont nicezanting1 pause-btn",on:{click:function(s){return t.pauseSong(e,a)}}})])]),s("td",[s("div",{staticClass:"name-container"},[s("div",{staticClass:"avatar"},[s("el-image",{key:e.image+"?param=100y100",attrs:{src:e.image+"?param=100y100",lazy:""}},[s("div",{staticClass:"image-slot flex-center flex-column",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont niceicon-3"})]),s("div",{staticClass:"image-slot flex-center",attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline"})])])],1),s("p",{staticClass:"name ellipsis",attrs:{title:e.name}},[t._v(t._s(e.name))])])]),s("td",[s("div",{staticClass:"artist-container"},[s("p",{staticClass:"author ellipsis",attrs:{title:e.singer}},[t._v(" "+t._s(e.singer)+" ")])])]),s("td",[s("div",{staticClass:"album-container"},[s("p",{staticClass:"ellipsis",attrs:{title:e.album}},[t._v(t._s(e.album))])])]),s("td",[s("div",{staticClass:"duration-container"},[s("p",[t._v(t._s(t.utils.formatSecondTime(e.duration)))]),t._m(2,!0)])])])})),0)])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"th-index"},[t._v("序号")]),s("th",{staticClass:"th-name"},[t._v("歌曲")]),s("th",{staticClass:"th-artist"},[t._v("歌手")]),s("th",{staticClass:"th-album"},[t._v("专辑")]),s("th",{staticClass:"th-duration"},[t._v("时长")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"play-icon"},[s("div",{staticClass:"line",staticStyle:{"animation-delay":"-1.2s"}}),s("div",{staticClass:"line"}),s("div",{staticClass:"line",staticStyle:{"animation-delay":"-1.5s"}}),s("div",{staticClass:"line",staticStyle:{"animation-delay":"-0.9s"}}),s("div",{staticClass:"line",staticStyle:{"animation-delay":"-0.6s"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"song-tools"},[s("i",{staticClass:"iconfont niceicon-heart",attrs:{title:"喜欢"}}),s("i",{staticClass:"iconfont nicexiazai",attrs:{title:"下载"}}),s("i",{staticClass:"iconfont nicedot",attrs:{title:"更多"}})])}],n=s("a34a"),r=s.n(n),c=s("c973"),o=s.n(c),l=s("9523"),u=s.n(l),d=s("2f62");function f(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?f(Object(s),!0).forEach((function(e){u()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var v={data:function(){return{}},props:{songs:{type:Array},subscribed:{type:Boolean},isPerson:{type:Boolean,default:!1}},components:{},computed:p(p({},Object(d["c"])(["currentIndex","playing","currentSong"])),{},{collectText:function(){return this.subscribed?"已收藏":"收藏"}}),watch:{},methods:p({playSong:function(t,e){this.selectPlay({list:this.songs,index:e})},pauseSong:function(){this.pausePlay()},playAllSong:function(){this.playAll({list:this.songs})},collect:function(){var t=this;return o()(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("collectArtist");case 1:case"end":return e.stop()}}),e)})))()}},Object(d["b"])(["selectPlay","playAll","pausePlay"])),created:function(){},mounted:function(){}},m=v,g=(s("6ef4"),s("2877")),h=Object(g["a"])(m,a,i,!1,null,"404980e0",null);e["a"]=h.exports},b20d:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list"},t._l(t.sheetList,(function(e){return s("div",{key:e.id,staticClass:"item",class:t.numClass,on:{click:function(s){return t.toDetail(e)}}},[s("div",{staticClass:"wrapper"},[s("a",[s("div",{staticClass:"cover"},[s("div",{staticClass:"image"},[s("el-image",{key:e.picUrl||e.coverImgUrl+"?param=300y300",attrs:{src:e.picUrl||e.coverImgUrl+"?param=300y300",lazy:""}},[s("div",{staticClass:"image-slot flex-center flex-column",attrs:{slot:"placeholder"},slot:"placeholder"},[s("i",{staticClass:"iconfont niceicon-3"}),s("p",[t._v("加载中"),s("span",{staticClass:"dot"},[t._v("...")])])]),s("div",{staticClass:"image-slot flex-center",attrs:{slot:"error"},slot:"error"},[s("i",{staticClass:"el-icon-picture-outline"})])])],1),s("div",{staticClass:"count"},[s("i",{staticClass:"arrow"}),s("span",[t._v(t._s(t.utils.tranNumber(e.playCount,0)))])])])])]),s("div",{staticClass:"info"},[s("h2",{staticClass:"name ellipsis-two"},[t._v(" "+t._s(e.name)+" ")])])])})),0)},i=[],n={data:function(){return{}},props:{sheetList:{type:Array},num:{type:Number,default:8}},components:{},computed:{numClass:function(){return 2==this.num?"two":"eight"}},watch:{},methods:{toDetail:function(t){console.log(t);var e={id:t.id};this.$router.push({name:"playlistDetail",query:e})}},created:function(){},mounted:function(){}},r=n,c=(s("2d3d"),s("2877")),o=Object(c["a"])(r,a,i,!1,null,"a8b8fbfc",null);e["a"]=o.exports},e8e5:function(t,e,s){"use strict";var a=s("4693"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-75229ef2.28886d1d.js.map